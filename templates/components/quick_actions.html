{% load static %}
{% load permissions %}
{# Quick Actions Component - Reusable across home.html and app_switcher.html #}
{# Actions are hidden based on user permissions #}
<div class="row g-3">
    {% if wakalas %}
    {% with first_wakala=wakalas.0 %}
    {% can_record_transaction user first_wakala as can_record_txn %}
    {% if can_record_txn %}
    <div class="col-6 col-md-3">
        <a href="{% url 'wakala:transaction_create' wakala_id=first_wakala.id %}" class="anna-quick-action anna-quick-action-deposit text-decoration-none">
            <i class="bi bi-plus-circle"></i>
            <span>New Transaction</span>
        </a>
    </div>
    {% endif %}
    {% endwith %}
    {% endif %}
    
    {% if mchezo_groups %}
    {% with first_group=mchezo_groups.0 %}
    {% can_manage_members user first_group as can_manage %}
    {% if can_manage %}
    <div class="col-6 col-md-3">
        <a href="{% url 'mchezo:add_member' group_id=first_group.id %}" class="anna-quick-action text-decoration-none" style="--anna-success: #10b981;">
            <i class="bi bi-person-plus"></i>
            <span>Add Member</span>
        </a>
    </div>
    {% endif %}
    {% endwith %}
    {% endif %}
    
    <div class="col-6 col-md-3">
        {% if user.is_staff %}
        <a href="{% url 'audit:reports' %}" class="anna-quick-action text-decoration-none" style="--anna-warning: #f59e0b;">
            <i class="bi bi-file-earmark-text"></i>
            <span>Reports</span>
        </a>
        {% else %}
        <a href="{% url 'dashboard:app_switcher' %}" class="anna-quick-action text-decoration-none">
            <i class="bi bi-grid-3x3-gap"></i>
            <span>All Apps</span>
        </a>
        {% endif %}
    </div>
    
    <div class="col-6 col-md-3">
        <a href="{% url 'dashboard:settings' %}" class="anna-quick-action text-decoration-none" style="--anna-info: #3b82f6;">
            <i class="bi bi-gear"></i>
            <span>Settings</span>
        </a>
    </div>
</div>
